/*    
 * LeapJS-Plugins Extra - v0.1.1 - 2014-03-05    
 * http://github.com/leapmotion/leapjs-plugins/    
 *    
 * Copyright 2014 LeapMotion, Inc    
 *    
 * Licensed under the Apache License, Version 2.0 (the "License");    
 * you may not use this file except in compliance with the License.    
 * You may obtain a copy of the License at    
 *    
 *     http://www.apache.org/licenses/LICENSE-2.0    
 *    
 * Unless required by applicable law or agreed to in writing, software    
 * distributed under the License is distributed on an "AS IS" BASIS,    
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.    
 * See the License for the specific language governing permissions and    
 * limitations under the License.    
 *    
 */    
(function(){Leap.Controller.plugin("poseEvents",function(a){var b,c,d,e;null==a&&(a={}),c={fist:function(a){return a.sphereRadius<50||a.grabStrength>.8},open:function(a){return a.sphereRadius>100},pinch:function(a){return a.pinchStrength>60},point:function(a){var b;return a.data("active"&&1===function(){var c,d,e,f;if(b.active()){for(e=a.fingers,f=[],c=0,d=e.length;d>c;c++)b=e[c],f.push(b);return f}}().length)}},e=a.poses;for(b in e)d=e[b],c[b]=d;return{hand:function(c){var e;e=a.recognizedPoses;for(b in e)d=e[b],d(c)?(c.data(b)||this.emit("pose."+b+".start",c),c.data(b,!0)):c.data(b)&&(this.emit("pose."+b+".end",c),c.data(b,void 0));return c.data(b)?this.emit("pose."+b+".move",c):void 0}}})}).call(this),function(){Leap.Controller.plugin("proximityAlert",function(a){var b,c,d,e,f,g,h,i,j,k;return null==a&&(a={}),a.beepFrq||(a.beepFrq=1318.51),a.continuousFrq||(a.continuousFrq=1396.91),a.waveType||(a.waveType=0),a.beepDuration||(a.beepDuration=function(a){return Math.pow(.7-a,3)}),a.minBeepDuration||(a.minBeepDuration=.02),c=new webkitAudioContext,f=c.createPanner(),f.connect(c.destination),e=function(b,d){var e;return e=c.createOscillator(),e.type=a.waveType,e.connect(f),e.frequency.value=b,e.start(0),d&&e.stop(c.currentTime+d),e},i=void 0,b=void 0,g=function(a,d){var f;if(f=d/2,1/0===i)b.stop(0),b=null;else if(c.currentTime<i)return;return b=e(a,d),i=c.currentTime+d+f},h=function(a){return c.currentTime<i?void 0:(b=e(a),b.continuous=!0,i=1/0)},k=function(){return b&&b.continuous?(b.stop(0),b=void 0,i=void 0):void 0},d=function(a,b){return a>b[1]?a-b[1]:a<b[0]?b[0]-a:!1},j=function(a){return f.setPosition(a.stabilizedPalmPosition[0]/100,a.stabilizedPalmPosition[1]/100,a.stabilizedPalmPosition[2]/100)},this.on("handLost",function(){return k()}),{hand:function(b){var c,e,f,i,l,m,n;if(f=b.frame.interactionBox){for(i=f.normalizePoint(b.palmPosition),m=0,n=i.length;n>m;m++)if(l=i[m],c=d(l,[0,1]))return b.proximity=!0,j(b),e=a.beepDuration(c),void(e<a.minBeepDuration?h(a.continuousFrq):g(a.beepFrq,e));return k()}}}})}.call(this);